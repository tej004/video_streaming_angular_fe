<div>
  <div class="mt-4">
    <div class="text-lg font-thin">Video Details</div>
    <div class="border p-5">
      <div class="custom-grid">
        <div class="custom-item">
          <app-library-video-form-thumbnail
            [thumbnailUrl]="thumbnailUrl"
            (thumbnailChanged)="onThumbnailChanged($event)"
          ></app-library-video-form-thumbnail>
        </div>
        <div class="custom-full-span">
          <app-library-video-form-video-container
            [videoUrl]="videoUrl"
            (videoUrlChanged)="onVideoChanged($event)"
          ></app-library-video-form-video-container>
        </div>
        <div class="custom-item">
          <app-library-video-form-add-info
            [title]="title"
            [description]="description"
            [genre]="genre"
            (onInputChange)="onAdditionInfoChanged($event)"
          ></app-library-video-form-add-info>
        </div>
      </div>
      <div class="flex flex-row-reverse">
        <button
          (click)="onOpenConfirmationModal()"
          class="p-2 border border-violet-600 text-violet-600 rounded-md hover:bg-violet-600 hover:text-white"
        >
          Apply changes
        </button>
      </div>
    </div>
  </div>
  <!-- Confirmation Modal -->

  <div
    *ngIf="isConfirmationModalOpen"
    class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 custom-backdrop-blur"
  >
    <div class="bg-white rounded-lg p-6 w-1/3 max-h-screen overflow-y-auto">
      <h2 class="text-xl font-bold mb-4">Confirm Changes</h2>
      <p>Are you sure you want to apply these changes?</p>
      <div class="flex justify-end mt-4">
        <button
          (click)="closeConfirmationModal()"
          class="bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded-md mr-2"
        >
          Cancel
        </button>
        <button
          (click)="onApplyChanges()"
          [disabled]="isLoading"
          [ngClass]="{
            'bg-gray-300': isLoading,
            'bg-violet-500 hover:bg-violet-800': !isLoading
          }"
          class="text-white font-bold py-2 px-4 rounded-md"
        >
          <span *ngIf="isLoading" class="loader">Loading...</span>
          <span *ngIf="!isLoading">Confirm</span>
        </button>
      </div>
    </div>
  </div>
</div>
